<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Concentration Helper</title>
    <link rel="stylesheet" href="css/styles.css">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>

    <div id="permission-prompt" class="container">
        <h2>Welcome!</h2>
        <p>Please grant permission to show notifications and play sounds for the best experience.</p>
        <button id="grant-permission-btn">Grant Permission</button>
    </div>

    <div id="app-container" class="container hidden">
        <h1><i class="fas fa-brain"></i> Concentration Helper</h1>

        <!-- Main Concentration Timer -->
        <div class="timer-section">
            <h2><i class="fas fa-clock"></i> Concentration Timer</h2>
            <select id="timer-type">
                <option value="none">None</option>
                <option value="pomodoro">Pomodoro (25 min work / 5 min break)</option>
                <option value="focus">Focus (50 min work / 10 min break)</option>
                <option value="intense">Intense (90 min work / 15 min break)</option>
            </select>
            <div id="timer-display">25:00</div>
            <button id="start-btn"><i class="fas fa-play"></i><span class="btn-text">Start</span></button>
            <button id="reset-btn"><i class="fas fa-undo"></i><span class="btn-text">Reset</span></button>
        </div>

        <!-- Background Tasks -->
        <div class="settings-section">
            <h2><i class="fas fa-tasks"></i> Background Reminders</h2>

            <!-- 20-20-20 Rule -->
            <div class="setting-group" title="Helps reduce digital eye strain by reminding you to look away from your screen.">
                <div class="setting">
                    <input type="checkbox" id="twenty-rule-checkbox">
                    <label for="twenty-rule-checkbox"><i class="fas fa-eye"></i> Enable 20-20-20 Rule</label>
                    <span id="twenty-rule-timer-display" class="timer-countdown"></span>
                </div>
            </div>

            <!-- Standing Desk -->
            <div class="setting-group" title="Promotes movement by reminding you to alternate between sitting and standing.">
                <div class="setting">
                    <input type="checkbox" id="standing-desk-checkbox">
                    <label for="standing-desk-checkbox"><i class="fas fa-person-walking"></i> Enable Standing Desk Reminders</label>
                    <span id="standing-desk-timer-display" class="timer-countdown"></span>
                </div>
                <div id="standing-desk-inputs" class="hidden">
                    <label>Sit (mins): <input type="number" id="sit-duration" value="50" min="1"></label>
                    <label>Stand (mins): <input type="number" id="stand-duration" value="20" min="1"></label>
                </div>
            </div>

            <!-- Water Reminder -->
            <div class="setting-group" title="Helps you stay hydrated by tracking water intake and providing hints.">
                <div class="setting">
                    <input type="checkbox" id="water-checkbox">
                    <label for="water-checkbox"><i class="fas fa-tint"></i> Enable Drinking Water Hints</label>
                </div>
                <div id="water-inputs" class="hidden">
                    <label>Water per hour (ml): <input type="number" id="water-amount" value="250" min="1"></label>
                    <div class="water-tracker">
                        <span>Accumulated: <strong id="water-debt-display">0</strong> ml</span>
                        <button id="drink-water-btn"><i class="fas fa-check"></i><span class="btn-text">Drank It!</span></button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Testing Section -->
        <div class="timer-section">
            <h2><i class="fas fa-vial"></i> Testing</h2>
            <p>Use these buttons to test browser/OS permissions.</p>
            <button id="test-notification-btn"><i class="fas fa-bell"></i><span class="btn-text">Test Notification</span></button>
            <button id="test-sound-btn"><i class="fas fa-volume-up"></i><span class="btn-text">Test Sound</span></button>
        </div>
    </div>

    <script src="js/notifications.js" defer></script>
    <script src="js/main.js" defer></script>
</body>
</html>
